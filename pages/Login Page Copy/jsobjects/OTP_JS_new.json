{
  "unpublishedCollection": {
    "name": "OTP_JS_new",
    "pageId": "Login Page Copy",
    "pluginId": "js-plugin",
    "pluginType": "JS",
    "actions": [],
    "archivedActions": [],
    "body": "export default \n{\n\tmyVar1: [],\n\tmyVar2: {},\n\tmyFun1: () => {\n\t\t//write code here\n\t},\n\tmyFun2: async () => {\n\t\t//use async-await or promises\n\t},\n\tredirectToMainpage: async ()=>{\n\t\tstoreValue(\"userData\",Fetch_otp_details.data[0]);\n\t\tnavigateTo('Attendance View');\n\t\t\n\t},\n\tactivateOtp:async ()=>{\n\t\tdebugger;\n\t\tlet userdata=await Fetch_otp_details.run({email:email.text});\n\t\t\n\t\t\tstoreValue(\"userData\",userdata[0]);\n\t\t\tif(userdata.length>0) \n\t\t\t{\n\t\t\t\tlet otp=Math.floor(1000 + Math.random() * 9000);\n\t\t\t\tgenerate_otp.run({'emp_id':userdata[0].emp_id,'otp':otp});\n\t\t\t\tsend_otp_email.run({'email':email.text,'otp':otp});\n\t\t\t\tstoreValue(\"otp\",otp);\n\t\t\t}\n\t\n\t},\n\tverifyOtp: async ()=>\n\t{\n\t\tdebugger;\n\t\tlet otpdata=await verify_otp_query.run({'emp_id':appsmith.store.userData.emp_id,'otp':appsmith.store.otp});\n\t\tif(otpdata.length>1) this.redirectToMainpage();\n\t\t//console.log(otpdata);\n\t}\n}",
    "variables": [
      {
        "name": "myVar1",
        "value": "[]"
      },
      {
        "name": "myVar2",
        "value": "{}"
      }
    ]
  },
  "id": "Login Page Copy_OTP_JS_new",
  "deleted": false,
  "gitSyncId": "6317903a1df89313e257ada5_6318b99b9b89144767c6e63b"
}